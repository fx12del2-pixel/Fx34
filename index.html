<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุธุงู ุฅุฏุงุฑุฉ ุงููุฎุงุฒู</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="brand-header">
        <h1>ุงููุคุณุณุฉ ุงููุตุฑูุฉ ุงููุงุจูุงุช</h1>
    </header>

    <nav class="navbar no-print">
        <div class="nav-brand">๐ฆ ุฅุฏุงุฑุฉ ุงููุงุจูุงุช</div>
        <button class="mobile-menu-btn" id="mobileMenuBtn">โฐ</button>
        <ul class="nav-links" id="navLinks">
            <li><button data-tab="benzine" class="nav-btn active">ูุฎุฒู ุจูุฒููู</button></li>
            <li><button data-tab="jadid" class="nav-btn">ูุฎุฒู ุฌุฏูุฏ</button></li>
            <li><button data-tab="haj" class="nav-btn">ูุฎุฒู ุงูุญุฌ</button></li>
            <li><button data-tab="outgoing" class="nav-btn special">ุตูุญุฉ ุงูุฅุตุฏุงุฑุงุช</button></li>
        </ul>
    </nav>

    <main id="app">
        <div class="print-header">
            <h2 id="printTitle">ุชูุฑูุฑ</h2>
            <p id="printDateStr">--</p>
        </div>

        <section id="view-benzine" class="view active">
            <header class="view-header">
                <h1>ูุฎุฒู ุจูุฒููู</h1>
                <div class="kpi-card"><span>ุฅุฌูุงูู ุงูุฃูุชุงุฑ</span><strong id="total-benzine">0 ู</strong></div>
            </header>
            <div class="controls no-print">
                <input type="text" placeholder="ุจุญุซ..." class="search-input" data-target="table-benzine">
                <div class="btn-group">
                    <button class="btn-secondary export-btn" data-warehouse="benzine">๐ CSV</button>
                    <button class="btn-secondary print-btn">๐จ๏ธ ุทุจุงุนุฉ</button>
                    <button class="btn-primary add-btn" data-warehouse="benzine">โ ุฅุถุงูุฉ</button>
                </div>
            </div>
            <div class="table-container">
                <table id="table-benzine">
                    <thead><tr><th>ุงูููุน</th><th>ุงูููุงุณ</th><th>ุฃูุชุงุฑ ุฃูููุฉ</th><th>ุงููุชุจูู</th><th class="no-print">ุฅุฌุฑุงุก</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>

        <section id="view-jadid" class="view">
            <header class="view-header">
                <h1>ูุฎุฒู ุฌุฏูุฏ</h1>
                <div class="kpi-card"><span>ุฅุฌูุงูู ุงูุฃูุชุงุฑ</span><strong id="total-jadid">0 ู</strong></div>
            </header>
            <div class="controls no-print">
                <input type="text" placeholder="ุจุญุซ..." class="search-input" data-target="table-jadid">
                <div class="btn-group">
                    <button class="btn-secondary export-btn" data-warehouse="jadid">๐ CSV</button>
                    <button class="btn-secondary print-btn">๐จ๏ธ ุทุจุงุนุฉ</button>
                    <button class="btn-primary add-btn" data-warehouse="jadid">โ ุฅุถุงูุฉ</button>
                </div>
            </div>
            <div class="table-container">
                <table id="table-jadid">
                    <thead><tr><th>ุงูููุน</th><th>ุงูููุงุณ</th><th>ุฃูุชุงุฑ ุฃูููุฉ</th><th>ุงููุชุจูู</th><th class="no-print">ุฅุฌุฑุงุก</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>

        <section id="view-haj" class="view">
            <header class="view-header">
                <h1>ูุฎุฒู ุงูุญุฌ</h1>
                <div class="kpi-card"><span>ุฅุฌูุงูู ุงูุฃูุชุงุฑ</span><strong id="total-haj">0 ู</strong></div>
            </header>
            <div class="controls no-print">
                <input type="text" placeholder="ุจุญุซ..." class="search-input" data-target="table-haj">
                <div class="btn-group">
                    <button class="btn-secondary export-btn" data-warehouse="haj">๐ CSV</button>
                    <button class="btn-secondary print-btn">๐จ๏ธ ุทุจุงุนุฉ</button>
                    <button class="btn-primary add-btn" data-warehouse="haj">โ ุฅุถุงูุฉ</button>
                </div>
            </div>
            <div class="table-container">
                <table id="table-haj">
                    <thead><tr><th>ุงูููุน</th><th>ุงูููุงุณ</th><th>ุฃูุชุงุฑ ุฃูููุฉ</th><th>ุงููุชุจูู</th><th class="no-print">ุฅุฌุฑุงุก</th></tr></thead>
                    <tbody></tbody>
                </table>
            </div>
        </section>

        <section id="view-outgoing" class="view">
            <header class="view-header">
                <h1>ุฅุตุฏุงุฑุงุช ุงููุฎุงุฒู</h1>
                <div class="kpi-card info"><span>ุชุณุฌูู ุฎุฑูุฌ</span></div>
            </header>
            
            <div class="outgoing-form-card no-print">
                <h3>ุฅุตุฏุงุฑ ุฌุฏูุฏ</h3>
                <form id="outgoingForm">
                    <div class="form-grid">
                        <div class="form-group">
                            <label>ุงููุฎุฒู</label>
                            <select id="outWarehouse" required>
                                <option value="" disabled selected>ุงุฎุชุฑ...</option>
                                <option value="benzine">ูุฎุฒู ุจูุฒููู</option>
                                <option value="jadid">ูุฎุฒู ุฌุฏูุฏ</option>
                                <option value="haj">ูุฎุฒู ุงูุญุฌ</option>
                            </select>
                        </div>
                        <div class="form-group"><label>ุงูุชุงุฑูุฎ</label><input type="date" id="outDate" required></div>
                        <div class="form-group"><label>ุงููุณุชูู</label><input type="text" id="outRecipient" required></div>
                        <div class="form-group"><label>ุงูุนูุตุฑ</label><select id="outItem" required disabled><option value="">ุงุฎุชุฑ ุงููุฎุฒู ุฃููุงู</option></select></div>
                        <div class="form-group"><label>ุฃูุชุงุฑ</label><input type="number" id="outMeters" min="0.1" step="0.1" required></div>
                    </div>
                    <button type="submit" class="btn-success block">โ ุชุณุฌูู</button>
                </form>
            </div>

            <div class="controls report-controls no-print">
                <div class="filter-group">
                    <input type="date" id="filterDate">
                    <button id="btnFilterDate" class="btn-secondary">๐ ููุชุฑุฉ</button>
                    <button id="btnResetFilter" class="btn-outline">โบ ุงููู</button>
                </div>
                <div class="actions-group">
                    <button id="btnExportOutgoing" class="btn-secondary">๐ CSV</button>
                    <button id="btnPrintOutgoing" class="btn-primary">๐จ๏ธ ุชูุฑูุฑ</button>
                </div>
            </div>
            <div class="controls report-controls no-print" style="margin-top:10px;border-top:1px solid #eee;padding-top:10px;">
                 <div class="filter-group">
                    <label style="color:var(--danger)">ุชูุธูู:</label>
                    <input type="date" id="clearDate">
                    <button id="btnClearHistory" class="btn-danger">๐๏ธ ุญุฐู ุงููุฏูู</button>
                </div>
            </div>

            <div class="table-container printable-area">
                <table id="table-outgoing">
                    <thead><tr><th>ุงูุชุงุฑูุฎ</th><th>ุงููุฎุฒู</th><th>ุงููุณุชูู</th><th>ุงูููุน</th><th>ุงูููุงุณ</th><th>ุงููุตุฑูู</th><th class="no-print">ุญุฐู</th></tr></thead>
                    <tbody></tbody>
                    <tfoot><tr class="total-row"><td colspan="5">ุงูุฅุฌูุงูู</td><td id="total-outgoing-meters">0</td><td class="no-print"></td></tr></tfoot>
                </table>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        ุฌููุน ุงูุญููู ูุญููุธุฉ ยฉ gx20d 2026
    </footer>

    <div id="itemModal" class="modal no-print">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 id="modalTitle">ุฅุถุงูุฉ ุนูุตุฑ</h2>
            <form id="itemForm">
                <input type="hidden" id="itemId"><input type="hidden" id="itemWarehouse">
                <div class="form-group">
                    <label>ุงูููุน</label>
                    <select id="itemType" required>
                        <option value="ุฃููููููู">ุฃููููููู</option>
                        <option value="ูุญุงุณ">ูุญุงุณ</option>
                    </select>
                </div>
                <div class="form-group"><label>ุงูููุงุณ</label><input type="text" id="itemSize" required></div>
                <div class="form-group">
                    <label id="labelMeters">ุงูุฃูุชุงุฑ</label>
                    <input type="number" id="itemMeters" step="0.1" min="0" required>
                    <small id="helpMeters" style="color:#666;font-size:0.8rem">ุงูุฑุตูุฏ ุงูุงูุชุชุงุญู</small>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn-secondary close-modal-btn">ุฅูุบุงุก</button>
                    <button type="submit" class="btn-success">ุญูุธ</button>
                </div>
            </form>
        </div>
    </div>

    <div id="toast" class="toast"></div>
    <script type="module" src="js/main.js"></script>
</body>
</html>
